<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© - Ø§Ù„Ø°Ø§ÙƒØ±ÙŠÙ†</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root { --gold: #ffcf40; --glass: rgba(20, 20, 20, 0.88); }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            background: url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?q=80&w=2000') center/cover no-repeat fixed;
            color: #fff; font-family: 'Segoe UI', sans-serif; height: 100vh; overflow: hidden;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…ØªÙˆÙ‡Ø¬ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
        .warning-bar {
            background: rgba(255, 0, 0, 0.6);
            color: white;
            text-align: center;
            padding: 8px 0;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.8);
            border-bottom: 1px solid red;
            z-index: 3000;
            position: relative;
        }

        .overlay { background: rgba(0, 0, 0, 0.6); height: 100vh; display: flex; flex-direction: column; backdrop-filter: blur(12px); }
        .content { flex: 1; overflow-y: auto; padding: 15px 15px 160px 15px; }
        
        .glass-card {
            background: var(--glass); border-radius: 25px; padding: 20px; margin-bottom: 20px;
            border: 1px solid rgba(255, 207, 64, 0.2); text-align: center; backdrop-filter: blur(15px);
        }

        .clock { font-size: 3.2rem; color: var(--gold); font-weight: bold; margin: 10px 0; letter-spacing: 2px; }
        
        .prayer-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; margin-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; }
        .p-item span { display: block; font-size: 0.65rem; color: var(--gold); margin-bottom: 4px; }
        .p-item b { font-size: 0.8rem; }

        .item-row {
            background: rgba(255, 255, 255, 0.08); margin-bottom: 12px; padding: 18px 22px;
            border-radius: 50px; display: flex; align-items: center; justify-content: space-between;
            cursor: pointer; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s;
        }
        .item-row b { flex: 1; text-align: right; margin: 0 15px; font-size: 1rem; }
        .item-row i { color: var(--gold); font-size: 1.3rem; min-width: 25px; text-align: center; }

        .nav-bar {
            position: fixed; bottom: 0; width: 100%; height: 85px;
            background: rgba(5, 5, 5, 0.98); display: flex;
            justify-content: space-around; align-items: center; border-top: 1px solid var(--gold);
        }
        .nav-link { color: #666; text-align: center; flex: 1; cursor: pointer; display: flex; flex-direction: column; align-items: center; }
        .nav-link.active { color: var(--gold); }
        .nav-link i { font-size: 1.6rem; margin-bottom: 5px; }
        .nav-link span { font-size: 0.75rem; font-weight: bold; }

        .player-bar {
            position: fixed; bottom: 95px; left: 15px; right: 15px;
            background: var(--gold); color: #000; border-radius: 50px;
            padding: 12px 20px; display: none; align-items: center; justify-content: space-between;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); z-index: 2000;
        }

        .event-line { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
    </style>
</head>
<body>

<div class="overlay">
    <div class="warning-bar">
        âš ï¸ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØºÙŠØ± Ù…ÙƒØªÙ…Ù„ Ù‡Ø°Ù‡ ÙÙ‚Ø· Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©
    </div>

    <div class="player-bar" id="pBar">
        <marquee style="width:70%; font-weight:bold" id="trackName">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</marquee>
        <i class="fa-solid fa-circle-pause" id="pBtn" onclick="togglePlay()" style="font-size:2rem; cursor:pointer;"></i>
    </div>

    <div class="content">
        <div id="home-sec" class="page active">
            <div class="glass-card">
                <small style="color:var(--gold)">Casablanca, Morocco â›…</small>
                <div class="clock" id="timer">00:00:00</div>
                <div class="prayer-grid">
                    <div class="p-item"><span>Fajr</span><b id="f">06:12</b></div>
                    <div class="p-item"><span>Dhuhr</span><b id="d">12:45</b></div>
                    <div class="p-item"><span>Asr</span><b id="a">15:50</b></div>
                    <div class="p-item"><span>Maghrib</span><b id="m">18:15</b></div>
                    <div class="p-item"><span>Isha</span><b id="i">19:40</b></div>
                </div>
            </div>
            
            <div class="glass-card" onclick="tasbih()" style="border: 2px solid var(--gold); background: rgba(255,207,64,0.1);">
                <p>Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ³Ø¨ÙŠØ­</p>
                <h2 id="count" style="font-size:4.2rem; margin:10px 0;">0</h2>
                <button onclick="event.stopPropagation(); resetCount()" style="background:none; border:1px solid #fff; color:#fff; padding:6px 15px; border-radius:12px; font-size:12px;">ØªØµÙÙŠØ±</button>
            </div>

            <div class="glass-card">
                <h3 style="color:var(--gold); margin-bottom:15px;">Ù…ÙˆØ§Ø¹ÙŠØ¯ 2026</h3>
                <div class="event-line"><span>ğŸŒ™ Ø¨Ø¯Ø§ÙŠØ© Ø±Ù…Ø¶Ø§Ù†</span><b>18 ÙØ¨Ø±Ø§ÙŠØ±</b></div>
                <div class="event-line"><span>â­ Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±</span><b>20 Ù…Ø§Ø±Ø³</b></div>
                <div class="event-line"><span>ğŸ•‹ Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰</span><b>27 Ù…Ø§ÙŠÙˆ</b></div>
            </div>
        </div>

        <div id="quran-sec" class="page" style="display:none">
            <h3 style="text-align:center; color:var(--gold); margin-bottom:20px;">Ø§Ù„Ù…ØµØ­Ù Ø§Ù„ØµÙˆØªÙŠ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</h3>
            <div id="qList"></div>
        </div>

        <div id="dua-sec" class="page" style="display:none">
            <h3 style="text-align:center; color:var(--gold); margin-bottom:20px;">Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h3>
            <div id="dList"></div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-link active" onclick="nav('home-sec', this)">
            <i class="fa-solid fa-house-chimney"></i>
            <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>
        <div class="nav-link" onclick="nav('quran-sec', this)">
            <i class="fa-solid fa-book-quran"></i>
            <span>Ø§Ù„Ù‚Ø±Ø¢Ù†</span>
        </div>
        <div class="nav-link" onclick="nav('dua-sec', this)">
            <i class="fa-solid fa-heart"></i>
            <span>Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</span>
        </div>
    </nav>
</div>

<script>
    const audio = new Audio();
    const surahs = [
        {id:"001", n:"Ø§Ù„ÙØ§ØªØ­Ø©"}, {id:"018", n:"Ø§Ù„ÙƒÙ‡Ù"}, {id:"036", n:"ÙŠØ³"}, 
        {id:"055", n:"Ø§Ù„Ø±Ø­Ù…Ù†"}, {id:"067", n:"Ø§Ù„Ù…Ù„Ùƒ"}, {id:"112", n:"Ø§Ù„Ø¥Ø®Ù„Ø§Øµ"}
    ];
    const duas = ["Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ£ØµØ¨Ø­ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡", "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡", "Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯", "ÙŠØ§ Ø­ÙŠ ÙŠØ§ Ù‚ÙŠÙˆÙ… Ø¨Ø±Ø­Ù…ØªÙƒ Ø£Ø³ØªØºÙŠØ«"];

    // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† Ù…Ø¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
    const qDiv = document.getElementById('qList');
    surahs.forEach(s => {
        qDiv.innerHTML += `
            <div class="item-row" onclick="playAudio('${s.id}', '${s.n}')">
                <i class="fa-solid fa-play"></i>
                <b>Ø³ÙˆØ±Ø© ${s.n}</b>
                <i class="fa-solid fa-music"></i>
            </div>`;
    });

    // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©
    const dDiv = document.getElementById('dList');
    duas.forEach(d => {
        dDiv.innerHTML += `
            <div class="item-row">
                <i class="fa-solid fa-quote-right"></i>
                <b>${d}</b>
            </div>`;
    });

    function playAudio(id, name) {
        audio.src = `https://server8.mp3quran.net/ahmad_huth/${id}.mp3`;
        audio.play().then(() => {
            document.getElementById('pBar').style.display = 'flex';
            document.getElementById('trackName').innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„: Ø³ÙˆØ±Ø© " + name;
            document.getElementById('pBtn').className = "fa-solid fa-circle-pause";
        }).catch(e => {
            console.log("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù†Ù‚Ø± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰");
        });
    }

    function togglePlay() {
        if(audio.paused) { audio.play(); document.getElementById('pBtn').className="fa-solid fa-circle-pause"; }
        else { audio.pause(); document.getElementById('pBtn').className="fa-solid fa-circle-play"; }
    }

    let c = 0;
    function tasbih() { c++; document.getElementById('count').innerText = c; if(navigator.vibrate) navigator.vibrate(40); }
    function resetCount() { c = 0; document.getElementById('count').innerText = 0; }

    function nav(id, el) {
        document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
        document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
        document.getElementById(id).style.display = 'block';
        el.classList.add('active');
    }

    setInterval(() => {
        document.getElementById('timer').innerText = new Date().toLocaleTimeString('en-GB');
    }, 1000);

    async function getP() {
        try {
            const r = await fetch('https://api.aladhan.com/v1/timingsByCity?city=Casablanca&country=Morocco&method=3');
            const data = await r.json();
            const t = data.data.timings;
            document.getElementById('f').innerText = t.Fajr;
            document.getElementById('d').innerText = t.Dhuhr;
            document.getElementById('a').innerText = t.Asr;
            document.getElementById('m').innerText = t.Maghrib;
            document.getElementById('i').innerText = t.Isha;
        } catch(e) {}
    }
    getP();
</script>
</body>
</html>
