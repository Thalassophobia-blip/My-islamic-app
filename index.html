<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø°Ø§ÙƒØ± - Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        :root { --gold: #c5a059; --bg: #050505; --card: #0c0c0c; --text: #e0e0e0; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: var(--bg) url('https://www.transparenttextures.com/patterns/islamic-art.png');
            color: var(--text); font-family: 'Segoe UI', sans-serif; height: 100vh; overflow: hidden;
        }

        .overlay { background: rgba(0,0,0,0.85); height: 100vh; display: flex; flex-direction: column; }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .beta-banner { background: #b30000; color: #fff; text-align: center; padding: 5px; font-size: 0.7rem; font-weight: bold; position: fixed; top: 0; width: 100%; z-index: 10001; }

        .top-nav { padding: 25px 20px 10px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(197, 160, 89, 0.2); }
        .top-nav h2 { color: var(--gold); font-size: 1.2rem; }

        .content { flex: 1; overflow-y: auto; padding: 15px 15px 120px; }

        .glass-card {
            background: var(--card); border-radius: 20px; padding: 20px; 
            margin-bottom: 15px; border: 1px solid rgba(255, 255, 255, 0.03);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø°ÙƒØ§Ø± ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© */
        .section-header { display: flex; align-items: center; gap: 8px; margin: 15px 0 10px; color: var(--gold); font-size: 1.1rem; }
        .azkar-row { 
            background: var(--card); margin-bottom: 10px; padding: 22px 15px; 
            border-radius: 18px; display: flex; align-items: center; justify-content: space-between;
            border: 1px solid rgba(255,255,255,0.05); cursor: pointer; transition: 0.3s;
        }
        .azkar-row:active { transform: scale(0.98); background: #151515; }
        .azkar-row b { font-size: 1.1rem; color: #fff; }
        .azkar-row i { color: var(--gold); font-size: 1.2rem; }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ¨ÙŠØ±Ø© (Ø§Ù„Ø£Ø°ÙƒØ§Ø± ÙˆØ§Ù„Ù‚Ø±Ø¢Ù†) */
        .full-popup { position: fixed; inset: 0; background: #000; z-index: 20000; display: none; flex-direction: column; animation: slideUp 0.4s ease; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        .popup-header { padding: 20px; background: #0c0c0c; border-bottom: 1px solid var(--gold); display: flex; justify-content: space-between; align-items: center; }
        .popup-content { flex: 1; overflow-y: auto; padding: 20px; }

        /* Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª ÙˆØ§Ù„Ù‚Ø±Ø¢Ù† */
        .quran-text { text-align: center; font-size: 1.8rem; line-height: 2.8; color: #f0f0f0; direction: rtl; }
        .audio-player { background: #111; padding: 20px; border-radius: 20px; margin-top: 20px; border: 1px solid var(--gold); }
        .progress-container { width: 100%; height: 6px; background: #333; border-radius: 3px; margin: 15px 0; position: relative; cursor: pointer; }
        .progress-fill { height: 100%; background: var(--gold); width: 0%; border-radius: 3px; }
        .audio-controls { display: flex; justify-content: center; gap: 30px; align-items: center; }
        .audio-controls i { font-size: 2rem; color: var(--gold); }

        /* ÙƒØ±ÙˆØª Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
        .zikr-card { background: #111; padding: 20px; border-radius: 15px; margin-bottom: 15px; border-right: 4px solid var(--gold); position: relative; }
        .zikr-count { position: absolute; left: 15px; bottom: 10px; background: var(--gold); color: #000; padding: 2px 12px; border-radius: 10px; font-weight: bold; font-size: 0.8rem; }

        /* Ø§Ù„Ù…Ù„Ø§Ø­Ø© */
        .nav-bar { position: fixed; bottom: 0; width: 100%; height: 85px; background: #000; display: flex; border-top: 1px solid var(--gold); }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #555; font-size: 0.75rem; }
        .nav-item.active { color: var(--gold); }
        .nav-item i { font-size: 1.6rem; margin-bottom: 5px; }

        .month-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .month-box { background: #111; padding: 15px; border-radius: 12px; text-align: center; border: 1px solid #222; font-size: 0.85rem; }
    </style>
</head>
<body>

<div class="beta-banner">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØºÙŠØ± Ù…ÙƒØªÙ…Ù„ Ù‡Ø°Ù‡ Ù†Ø³Ø®Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©</div>

<div class="overlay">
    <div id="main-popup" class="full-popup">
        <div class="popup-header">
            <i class="fa-solid fa-chevron-down" onclick="closePopup()" style="font-size: 1.5rem;"></i>
            <b id="pop-title" style="color:var(--gold)">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</b>
            <i class="fa-solid fa-share-nodes" style="color:var(--gold)"></i>
        </div>
        <div class="popup-content" id="pop-body">
            </div>
        <div id="player-ui" style="display:none; padding:20px;">
            <div class="audio-player">
                <div class="progress-container" onclick="seek(event)">
                    <div class="progress-fill" id="p-fill"></div>
                </div>
                <div class="audio-controls">
                    <i class="fa-solid fa-backward-step"></i>
                    <i class="fa-solid fa-play" id="play-icon" onclick="toggleAudio()"></i>
                    <i class="fa-solid fa-forward-step"></i>
                </div>
                <div style="display:flex; justify-content:space-between; font-size:0.7rem; margin-top:5px;">
                    <span id="curr-time">00:00</span>
                    <span id="dur-time">00:00</span>
                </div>
            </div>
        </div>
    </div>

    <div class="content">
        <div id="page-home" class="page">
            <div class="glass-card" style="text-align:center">
                <div style="font-size: 3.5rem; color: var(--gold); font-weight: 200;" id="clock">00:00</div>
                <p style="opacity:0.6; font-size: 0.9rem;">Ø§Ù„Ø¬Ù…Ø¹Ø©ØŒ 30 ÙŠÙ†Ø§ÙŠØ± 2026</p>
            </div>

            <div class="section-header">âœ¨ Ø£Ø°ÙƒØ§Ø± Ù…Ø®ØªØ§Ø±Ø©</div>
            <div class="azkar-row" onclick="openAzkar('morning')"><b>Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</b><i class="fa-solid fa-star"></i></div>
            <div class="azkar-row" onclick="openAzkar('evening')"><b>Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</b><i class="fa-solid fa-star"></i></div>
            <div class="azkar-row" onclick="openAzkar('sleep')"><b>Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</b><i class="fa-solid fa-star"></i></div>
            <div class="azkar-row" onclick="openAzkar('wakeup')"><b>Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸</b><i class="fa-solid fa-star"></i></div>

            <div class="section-header">ğŸ“œ Ø£Ø­Ø§Ø¯ÙŠØ« Ù†Ø¨ÙˆÙŠØ©</div>
            <div id="hadith-list"></div>

            <div class="section-header">ğŸ“… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠ</div>
            <div class="month-grid" id="m-grid"></div>
        </div>

        <div id="page-quran" class="page" style="display:none">
            <div class="section-header">ğŸ“– Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</div>
            <div id="surah-list"></div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="showPage('page-home', this)"><i class="fa-solid fa-house"></i><span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></div>
        <div class="nav-item" onclick="showPage('page-quran', this)"><i class="fa-solid fa-book-quran"></i><span>Ø§Ù„Ù‚Ø±Ø¢Ù†</span></div>
        <div class="nav-item" onclick="openAzkar('tasbih')"><i class="fa-solid fa-dharmachakra"></i><span>ØªØ³Ø¨ÙŠØ­</span></div>
    </nav>
</div>

<script>
    const audio = new Audio();
    const azkarData = {
        morning: [
            {t: "Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ£ØµØ¨Ø­ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡", c: 1},
            {t: "Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§ ÙˆØ¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ù†Ø­ÙŠØ§", c: 1},
            {t: "Ø£Ø¹ÙˆØ° Ø¨ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù„Ù‡ Ø§Ù„ØªØ§Ù…Ø§Øª Ù…Ù† Ø´Ø± Ù…Ø§ Ø®Ù„Ù‚", c: 3},
            {t: "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ¶Ø± Ù…Ø¹ Ø§Ø³Ù…Ù‡ Ø´ÙŠØ¡", c: 3},
            {t: "ÙŠØ§ Ø­ÙŠ ÙŠØ§ Ù‚ÙŠÙˆÙ… Ø¨Ø±Ø­Ù…ØªÙƒ Ø£Ø³ØªØºÙŠØ«", c: 3},
            {t: "Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ø§Ù‹ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ø§Ù‹", c: 3},
            {t: "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡", c: 100}
        ],
        evening: [
            {t: "Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ£Ù…Ø³Ù‰ Ø§Ù„Ù…Ù„Ùƒ Ù„Ù„Ù‡ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡", c: 1},
            {t: "Ø§Ù„Ù„Ù‡Ù… Ø¨Ùƒ Ø£Ù…Ø³ÙŠÙ†Ø§ ÙˆØ¨Ùƒ Ø£ØµØ¨Ø­Ù†Ø§", c: 1},
            {t: "Ø§Ù„Ù„Ù‡Ù… Ù…Ø§ Ø£Ù…Ø³Ù‰ Ø¨ÙŠ Ù…Ù† Ù†Ø¹Ù…Ø© Ø£Ùˆ Ø¨Ø£Ø­Ø¯ Ù…Ù† Ø®Ù„Ù‚Ùƒ", c: 1},
            {t: "Ø­Ø³Ø¨ÙŠ Ø§Ù„Ù„Ù‡ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø¹Ù„ÙŠÙ‡ ØªÙˆÙƒÙ„Øª", c: 7}
        ],
        sleep: [
            {t: "Ø¨Ø§Ø³Ù…Ùƒ Ø±Ø¨ÙŠ ÙˆØ¶Ø¹Øª Ø¬Ù†Ø¨ÙŠ ÙˆØ¨Ùƒ Ø£Ø±ÙØ¹Ù‡", c: 1},
            {t: "Ø§Ù„Ù„Ù‡Ù… Ù‚Ù†ÙŠ Ø¹Ø°Ø§Ø¨Ùƒ ÙŠÙˆÙ… ØªØ¨Ø¹Ø« Ø¹Ø¨Ø§Ø¯Ùƒ", c: 3},
            {t: "Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø³Ù…Ùƒ Ø£Ù…ÙˆØª ÙˆØ£Ø­ÙŠØ§", c: 1}
        ]
    };

    const surahs = ["Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø§Ù„Ù†Ø³Ø§Ø¡","Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©","Ø§Ù„Ø£Ù†Ø¹Ø§Ù…","Ø§Ù„Ø£Ø¹Ø±Ø§Ù","Ø§Ù„Ø£Ù†ÙØ§Ù„","Ø§Ù„ØªÙˆØ¨Ø©","ÙŠÙˆÙ†Ø³","Ù‡ÙˆØ¯","ÙŠÙˆØ³Ù","Ø§Ù„Ø±Ø¹Ø¯","Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…","Ø§Ù„Ø­Ø¬Ø±","Ø§Ù„Ù†Ø­Ù„","Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡","Ø§Ù„ÙƒÙ‡Ù","Ù…Ø±ÙŠÙ…","Ø·Ù‡","Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡","Ø§Ù„Ø­Ø¬","Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†","Ø§Ù„Ù†ÙˆØ±","Ø§Ù„ÙØ±Ù‚Ø§Ù†","Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡","Ø§Ù„Ù†Ù…Ù„","Ø§Ù„Ù‚ØµØµ","Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª","Ø§Ù„Ø±ÙˆÙ…","Ù„Ù‚Ù…Ø§Ù†","Ø§Ù„Ø³Ø¬Ø¯Ø©","Ø§Ù„Ø£Ø­Ø²Ø§Ø¨","Ø³Ø¨Ø£","ÙØ§Ø·Ø±","ÙŠØ³","Ø§Ù„ØµØ§ÙØ§Øª","Øµ","Ø§Ù„Ø²Ù…Ø±","ØºØ§ÙØ±","ÙØµÙ„Øª","Ø§Ù„Ø´ÙˆØ±Ù‰","Ø§Ù„Ø²Ø®Ø±Ù","Ø§Ù„Ø¯Ø®Ø§Ù†","Ø§Ù„Ø¬Ø§Ø«ÙŠØ©","Ø§Ù„Ø£Ø­Ù‚Ø§Ù","Ù…Ø­Ù…Ø¯","Ø§Ù„ÙØªØ­","Ø§Ù„Ø­Ø¬Ø±Ø§Øª","Ù‚","Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª","Ø§Ù„Ø·ÙˆØ±","Ø§Ù„Ù†Ø¬Ù…","Ø§Ù„Ù‚Ù…Ø±","Ø§Ù„Ø±Ø­Ù…Ù†","Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©","Ø§Ù„Ø­Ø¯ÙŠØ¯","Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©","Ø§Ù„Ø­Ø´Ø±","Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©","Ø§Ù„ØµÙ","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†","Ø§Ù„ØªØºØ§Ø¨Ù†","Ø§Ù„Ø·Ù„Ø§Ù‚","Ø§Ù„ØªØ­Ø±ÙŠÙ…","Ø§Ù„Ù…Ù„Ùƒ","Ø§Ù„Ù‚Ù„Ù…","Ø§Ù„Ø­Ø§Ù‚Ø©","Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬","Ù†ÙˆØ­","Ø§Ù„Ø¬Ù†","Ø§Ù„Ù…Ø²Ù…Ù„","Ø§Ù„Ù…Ø¯Ø«Ø±","Ø§Ù„Ù‚ÙŠØ§Ù…Ø©","Ø§Ù„Ø¥Ù†Ø³Ø§Ù†","Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª","Ø§Ù„Ù†Ø¨Ø£","Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª","Ø¹Ø¨Ø³","Ø§Ù„ØªÙƒÙˆÙŠØ±","Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±","Ø§Ù„Ù…Ø·ÙÙÙŠÙ†","Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚","Ø§Ù„Ø¨Ø±ÙˆØ¬","Ø§Ù„Ø·Ø§Ø±Ù‚","Ø§Ù„Ø£Ø¹Ù„Ù‰","Ø§Ù„ØºØ§Ø´ÙŠØ©","Ø§Ù„ÙØ¬Ø±","Ø§Ù„Ø¨Ù„Ø¯","Ø§Ù„Ø´Ù…Ø³","Ø§Ù„Ù„ÙŠÙ„","Ø§Ù„Ø¶Ø­Ù‰","Ø§Ù„Ø´Ø±Ø­","Ø§Ù„ØªÙŠÙ†","Ø§Ù„Ø¹Ù„Ù‚","Ø§Ù„Ù‚Ø¯Ø±","Ø§Ù„Ø¨ÙŠÙ†Ø©","Ø§Ù„Ø²Ù„Ø²Ù„Ø©","Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª","Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©","Ø§Ù„ØªÙƒØ§Ø«Ø±","Ø§Ù„Ø¹ØµØ±","Ø§Ù„Ù‡Ù…Ø²Ø©","Ø§Ù„ÙÙŠÙ„","Ù‚Ø±ÙŠØ´","Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†","Ø§Ù„ÙƒÙˆØ«Ø±","Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†","Ø§Ù„Ù†ØµØ±","Ø§Ù„Ù…Ø³Ø¯","Ø§Ù„Ø¥Ø®Ù„Ø§Øµ","Ø§Ù„ÙÙ„Ù‚","Ø§Ù„Ù†Ø§Ø³"];

    const months = ["Ù…Ø­Ø±Ù…","ØµÙØ±","Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„","Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø±","Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰","Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©","Ø±Ø¬Ø¨","Ø´Ø¹Ø¨Ø§Ù†","Ø±Ù…Ø¶Ø§Ù†","Ø´ÙˆØ§Ù„","Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©","Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©"];

    // Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ±
    const sList = document.getElementById('surah-list');
    surahs.forEach((s, i) => {
        sList.innerHTML += `<div class="azkar-row" onclick="playQuran('${(i+1).toString().padStart(3,'0')}', '${s}', ${i+1})"><b>Ø³ÙˆØ±Ø© ${s}</b><i class="fa-solid fa-play"></i></div>`;
    });

    // Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
    const mGrid = document.getElementById('m-grid');
    months.forEach(m => { mGrid.innerHTML += `<div class="month-box">${m}</div>`; });

    // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«
    const hList = document.getElementById('hadith-list');
    for(let i=1; i<=10; i++) {
        hList.innerHTML += `<div class="azkar-row"><b>Ø­Ø¯ÙŠØ« Ø±Ù‚Ù… ${i}: Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„Ù†ØµÙŠØ­Ø©...</b><i class="fa-solid fa-scroll"></i></div>`;
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø°ÙƒØ§Ø±
    function openAzkar(type) {
        const pop = document.getElementById('main-popup');
        const body = document.getElementById('pop-body');
        const title = document.getElementById('pop-title');
        pop.style.display = 'flex';
        document.getElementById('player-ui').style.display = 'none';
        
        if(type === 'tasbih') {
            title.innerText = "Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©";
            body.innerHTML = `
                <div style="text-align:center; padding-top:50px;">
                    <div id="t-count" style="font-size:8rem; color:var(--gold)">0</div>
                    <div onclick="doTasbih()" style="width:200px; height:200px; border-radius:50%; border:5px solid var(--gold); margin:40px auto; display:flex; align-items:center; justify-content:center; font-size:2rem; active {transform:scale(0.9)}">Ø§Ø¶ØºØ·</div>
                    <button onclick="document.getElementById('t-count').innerText=0" style="background:none; border:1px solid #444; color:#666; padding:10px 30px; border-radius:10px;">ØªØµÙÙŠØ±</button>
                </div>`;
            return;
        }

        title.innerText = type === 'morning' ? "Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­" : "Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡";
        body.innerHTML = "";
        azkarData[type]?.forEach((z, i) => {
            body.innerHTML += `
                <div class="zikr-card" onclick="decrementZikr(this, ${z.c})">
                    <p>${z.t}</p>
                    <span class="zikr-count">Ø§Ù„ØªÙƒØ±Ø§Ø±: ${z.c}</span>
                </div>`;
        });
    }

    function decrementZikr(el, max) {
        let span = el.querySelector('.zikr-count');
        let current = parseInt(span.innerText.split(': ')[1]);
        if(current > 0) {
            current--;
            span.innerText = `Ø§Ù„ØªÙƒØ±Ø§Ø±: ${current}`;
            if(navigator.vibrate) navigator.vibrate(40);
            if(current === 0) el.style.opacity = "0.3";
        }
    }

    let tasbihCount = 0;
    function doTasbih() {
        tasbihCount++;
        document.getElementById('t-count').innerText = tasbihCount;
        if(navigator.vibrate) navigator.vibrate(50);
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ§Ù„ØµÙˆØª
    async function playQuran(id, name, n) {
        document.getElementById('main-popup').style.display = 'flex';
        document.getElementById('pop-title').innerText = "Ø³ÙˆØ±Ø© " + name;
        document.getElementById('player-ui').style.display = 'block';
        const body = document.getElementById('pop-body');
        body.innerHTML = `<div class="quran-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¢ÙŠØ§Øª Ø³ÙˆØ±Ø© ${name}...</div>`;
        
        audio.src = `https://server8.mp3quran.net/ahmad_huth/${id}.mp3`;
        audio.play();
        document.getElementById('play-icon').className = "fa-solid fa-pause";

        try {
            const r = await fetch(`https://api.alquran.cloud/v1/surah/${n}`);
            const d = await r.json();
            body.innerHTML = `<div class="quran-text">${d.data.ayahs.map(a => a.text).join(" Û ")}</div>`;
        } catch(e) { body.innerHTML = "Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Øµ."; }
    }

    function toggleAudio() {
        if(audio.paused) { audio.play(); document.getElementById('play-icon').className = "fa-solid fa-pause"; }
        else { audio.pause(); document.getElementById('play-icon').className = "fa-solid fa-play"; }
    }

    audio.ontimeupdate = () => {
        const p = (audio.currentTime / audio.duration) * 100;
        document.getElementById('p-fill').style.width = p + "%";
        document.getElementById('curr-time').innerText = formatTime(audio.currentTime);
        document.getElementById('dur-time').innerText = formatTime(audio.duration);
    };

    function formatTime(sec) {
        if(isNaN(sec)) return "00:00";
        let m = Math.floor(sec / 60);
        let s = Math.floor(sec % 60);
        return `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    }

    function seek(e) {
        const rect = e.target.getBoundingClientRect();
        const p = (e.clientX - rect.left) / rect.width;
        audio.currentTime = p * audio.duration;
    }

    function closePopup() { 
        document.getElementById('main-popup').style.display = 'none'; 
        audio.pause();
    }

    function showPage(id, el) {
        document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).style.display = 'block';
        el.classList.add('active');
    }

    setInterval(() => {
        document.getElementById('clock').innerText = new Date().toLocaleTimeString('ar-EG', {hour:'2-digit', minute:'2-digit'});
    }, 1000);
</script>
</body>
</html>
